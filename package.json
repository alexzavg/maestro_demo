{
  "name": "maestro-demo",
  "version": "1.0.0",
  "type": "module",
  "private": false,
  "description": "Maestro mobile testing demo",
  "scripts": {
    "env:cleanup": "npm run env:teardown && npm run kill:ports && npm run kill:processes && npm run kill:emulators && npm run artifacts:delete",
    "env:setup": "npm run maestro:device:start:android && npm run android:install:wikipedia",
    "env:teardown": "npm run android:uninstall:wikipedia && npm run maestro:device:stop",
    "maestro:inspect": "$HOME/.maestro/bin/maestro studio",
    "maestro:test:wikipedia": "$HOME/.maestro/bin/maestro test .maestro --config .maestro/config.yaml -e appId=org.wikipedia --format html --output test-results/wikipedia.html",
    "kill:ports": ".scripts/kill_ports.sh",
    "kill:processes": ".scripts/kill_processes.sh",
    "kill:emulators": "adb devices | grep emulator | cut -f1 | while read d; do adb -s \"$d\" emu kill; done",
    "maestro:device:start:android": "$HOME/.maestro/bin/maestro start-device --platform android --os-version 34 --device-locale en_US",
    "maestro:device:stop": "adb emu kill",
    "android:install:wikipedia": "adb install -t -r -g ./apps/android/wikipedia/wikipedia.apk",
    "android:uninstall:wikipedia": "adb uninstall org.wikipedia || true",
    "report:ai:open": "open test-results/*/ai-report-*.spec.html",
    "maestro:record:wikipedia": "$HOME/.maestro/bin/maestro record --local .maestro/flows/wikipedia/conditional/LaunchStepper.spec.yaml recordings/LaunchStepper.mp4 --config .maestro/config.yaml -e appId=org.wikipedia",
    "maestro:chat": "maestro chat",
    "test:ios": "chmod +x .scripts/ios/ios_test_runner.sh && .scripts/ios/ios_test_runner.sh",
    "recordings:delete": "rm -rf recordings/*",
    "report:delete": "rm -rf test-results/*",
    "artifacts:delete": "npm run recordings:delete && npm run report:delete && rm -rf test-report/*",
    "record:all": "npm run recordings:delete && node .scripts/record-flows.js",
    "report:generate": "npm run report:delete && node .scripts/generate-report.js",
    "report:serve": "npm run report:delete && node .scripts/serve-report.js",
    "report:archive": "node .scripts/archive-report.js",
    "report:email": "node .scripts/send-report-email.js",
    "capture:android:logs": "rm -rf android_emulator_logs.txt && adb logcat -c && adb logcat -v time > android_emulator_logs.txt",
    "capture:android:logs:stop": "pkill -f 'adb logcat' || true && adb logcat -c"
  },
  "devDependencies": {
    "@devicecloud.dev/dcd": "^4.1.4",
    "dotenv": "^17.2.3",
    "maestro": "latest",
    "nodemailer": "^7.0.11",
    "open": "^11.0.0"
  }
}
